.\" 
.\" Copyright (c) 2009 Gordon D. Carrie
.\" All rights reserved
.\" 
.\" Please address questions and feedback to dev0@trekix.net
.\" 
.\" $Revision: 1.6 $ $Date: 2010/02/03 23:02:59 $
.\"
.TH sigmet_raw 3 "Sigmet raw product"
.SH NAME
sigmet_raw \- access Sigmet raw product volumes
.SH SYNOPSIS
.nf
\fBeval `sigmet_raw start`\fP
\fBeval `sigmet_raw stop`\fP
\fBsigmet_raw\fP [\fIcommands\fP]
\fBsigmet_raw\fP \fBlog\fP
\fBsigmet_raw\fP \fBtimeout\fP
\fBsigmet_raw\fP \fBtypes\fP
\fBsigmet_raw\fP \fBread\fP \fIraw_volume\fP
\fBsigmet_raw\fP \fBvolume_headers\fP
\fBsigmet_raw\fP \fBray_headers\fP
\fBsigmet_raw\fP \fBdata\fP [\fItype\fP] [\fIs\fP] [\fIr\fP] [\fIb\fP]
\fBsigmet_raw\fP \fBbin_outline\fP \fIs\fP \fIr\fP \fIb\fP
.fi
.SH DESCRIPTION
The \fBsigmet_raw\fP application reads and manipulates data from
Sigmet raw product volumes.
.PP
\fBsigmet_raw\fP requires the following environment variables:
\fBSIGMET_RAWD_PID\fP contains the process id of the \fBsigmet_rawd\fP daemon.
\fBSIGMET_RAWD_DIR\fP identifies the directory where the daemon keeps files.
\fBSIGMET_RAWD_IN\fP stores the name of a fifo from which the deamon reads requests.
\fBsigmet_rawd\fP generates values for these variables at startup and prints
them to standard output. The \fBeval\fP calls shown above set these variables
in the current environment.  The environment values are also printed in
\fB${SIGMET_RAWD_DIR}/sigmet.log\fP.
.PP
If a client does not detach from the server in a reasonable amount of time, the
daemon kills it. This prevents frozen clients from freezing the daemon. The
\fBtimeout\fP subcommand regulates this behavior.
.PP
The following subcommands are recognized.
.TP
\fBtypes\fP
Prints a list of Sigmet data types.  Output lines have form:
.sp 1
.ti +4
\fIDB_XXX\fP \fB|\fP \fIDescription\fP
.sp 1
.TP
\fBsigmet_raw\fP \fBtimeout\fP
Prints the timeout for clients.  Without arguments, this command prints
the time limit for clients - the maximum time a client can block the daemon
before the daemon kills it.  It also reports whether the timeout is \fBfixed\fP,
meaning the daemon will never adjust the timemout, or \fBadjustable\fP, meaning
the daemon will periodically shorten the timeout based on how long sampled
clients are taking.
.TP
\fBsigmet_raw\fP \fBtimeout\fP \fBnone\fP
Disables client timeout. Any client will have the daemon's input and output
channels until the client exits. All other clients will be blocked.
.TP
\fBsigmet_raw\fP \fBtimeout\fP \fIinteger\fP [\fBadjustable\fP|\fBfixed\fP]
Sets client timeout to \fIinteger\fP seconds.  If present, optional suffix is
interpreted as described above.
.TP
\fBread\fP \fIraw_volume\fP
Read \fIraw_volume\fP, which must be a Sigmet raw product volume.  If absent
or "\fB-\fP", the command will read a raw product volume from standard input. Contents of the volume will be stored in memory for subsequent commands
to act upon. Any previous volume in memory will be deleted.
.TP
\fBvolume_headers\fP
Prints volume headers for the latest volume loaded with \fBread\fP.  Ray headers
and data are not printed.  Output lines have form:
.sp 1
.ti +4
\fIvalue\fP \fB|\fP \fIhierarchy\fP \fB|\fP \fIdescriptor\fP
.sp 1
In this context, \fIhierarchy\fP refers to the Sigmet data
structures that contain the member.  For a hierarchy with two
levels, it would look like
.sp 1
.ti +4
\fI<struct1>.<struct2>.member\fP.
.sp 1
Be aware that the same member might reside in several structure
hierarchies.  See the IRIS Programmers Manual for details.
.TP
\fBray_headers\fP
Prints ray times, azimuths, and tilts for the latest volume loaded with \fBread\fP.
Volume headers and data are not printed.
.TP
\fBdata\fP
Prints an ASCII stream of all volume data for the latest volume loaded with
\fBread\fP. Headers are not printed.
.TP
\fBdata\fP \fItype\fP
Prints an ASCII stream of data for the latest volume loaded with \fBread\fP for
data type \fItype\fP.
.TP
\fBdata\fP \fItype\fP \fIs\fP
Prints an ASCII stream of data for the latest volume loaded with \fBread\fP for
data type \fItype\fP, sweep \fIs\fP.
.TP
\fBdata\fP \fItype\fP \fIs\fP \fIr\fP
Prints an ASCII stream of data for the latest volume loaded with \fBread\fP for
data type \fItype\fP, sweep \fIs\fP, ray \fIr\fP.
.TP
\fBdata\fP \fItype\fP \fIs\fP \fIr\fP \fIb\fP
Prints an ASCII stream of data for the latest volume loaded with \fBread\fP for
data type \fItype\fP, sweep \fIs\fP, ray \fIr\fP, bin \fIb\fP.
.TP
\fBbin_outline\fP \fIs\fP \fIr\fP \fIb\fP
Prints the corners of bin \fIs\fP \fIr\fP \fIb\fP for the latest volume loaded
with \fBread\fP as "\fIlon1\ lat1\ lon2\ lat2\ lon3\ lat3\ lon4\ lat4\fP."
.SH SEE ALSO
sigmet (3)
.br
IRIS Programmer's Manual (http://sigmet.com)
.SH AUTHOR
Gordon Carrie (dev0@trekix.net)
